<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Analyze commands</title>
  </head>

  <body>
    <h1>Analyze commands</h1>

    <p>
      GoGui allows to define an analyze command.
      The analyze command is sent to the Go program after
      each change on the board and its output is displayed
      graphically on the board.
    </p>

    <p>
      The possible analyze commands are defined in the
      configuration file <tt>~/.gogui/analyze-commands</tt>.
      There is one line per command in the format:
    </p>

    <blockquote>
      <tt>
	type/label/command[/section[/scale]]
      </tt>
    </blockquote>

    <h2>Types</h2>
    
    The command type can be

    <dl>
      <dt><tt>cboard</tt></dt>
      <dd>
	The answer of the command is a board of strings with color names.
	They will be displayed as background colors for the fields.
	Valid color names are blue, cyan, green, gray, magenta,
	pink, red, and yellow. Unknown names or the special string ""
	are ignored.
      </dd>
      <dt><tt>dboard</tt></dt>
      <dd>
	The answer of the command is a board of floating point
	numbers.
	They will be displayed as red (positive) and green (negative)
	polygons on the board.
	The numbers are expected to be between -1 and 1.
	Use the <tt>scale</tt> option, if they are not.
      </dd>
      <dt><tt>none</tt></dt>
      <dd>
	The output is not displayed.
      </dd>
      <dt><tt>plist</tt></dt>
      <dd>
	The answer of the command is a list of points.
	All points will be marked on the board.
      </dd>
      <dt><tt>sboard</tt></dt>
      <dd>
	The answer of the command is a board of strings.
	A string should not be longer than 3-4 characters
	to fit on a point on the board and may not contain white
	spaces. The special string "" is used for no string
	on a point.
      </dd>
      <dt><tt>string</tt></dt>
      <dd>
	The answer of the command is a text.
	If the text has only a single line, it will be displayed
	in the status line. If it has multiple lines,
	a window will popup.
      </dd>
    </dl>

    <h2>Label</h2>

    The label to use for the menu.

    <h2>Command</h2>

    The command to send to the Go program. The wildcard <tt>%m</tt>
    will be replaced by the color to move. If the command contains
    the wildcard <tt>%p</tt>, GoGui will ask the user to select
    point on the board.

    <h2>Section</h2>

    The answer to the command is searched first until a single line
    containing the section name followed by a colon is found.

    <h2>Scale</h2>

    If the type is <tt>dboard</tt>, the numbers are scaled by
    this factor.

  </body>
</html>
